<% if domain.is_a?ProblemThread %>
<%= form_for(@comment, url: product_problem_thread_comments_path(@problem_thread.product, @problem_thread), html: {method: :post}) do |form| %>
  <% if @comment.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(comment.errors.count, "error") %> prohibited this comment from being saved:</h2>

      <ul>
      <% comment.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :content %>
    <%= form.text_area :content, id: :comment_content %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
<% end %>
<% if domain.is_a?AdviceThread %>
    <%= form_for(@comment, url: product_advice_thread_comments_path(@advice_thread.product, @advice_thread), html: {method: :post}) do |form| %>
        <% if @comment.errors.any? %>
            <div id="error_explanation">
              <h2><%= pluralize(comment.errors.count, "error") %> prohibited this comment from being saved:</h2>

              <ul>
                <% comment.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                <% end %>
              </ul>
            </div>
        <% end %>

        <div class="field">
          <%= form.label :content %>
          <%= form.text_area :content, id: :comment_content %>
        </div>

        <div class="actions">
          <%= form.submit %>
        </div>
    <% end %>
<% end %>

